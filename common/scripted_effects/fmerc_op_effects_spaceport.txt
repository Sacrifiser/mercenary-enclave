
# Effects for the spaceport operation type
# Will probably get merged to _raid.txt.

fmerc_stage2_init_spaceport = {
	log = "Spaceport: Locating target fleet."
	event_target:fmerc_buyer = {
		# Capital of buyer
		capital_scope = {
			closest_system = {
				limit = {
					any_planet = {
						exists = owner
						owner = { is_same_value = event_target:fmerc_target_country }
						controller = { is_same_value = event_target:fmerc_target_country }
						fmerc_valid_spaceport_planet = yes
					}
				}
				random_system_planet = {
					limit = {
						exists = owner
						owner = { is_same_value = event_target:fmerc_target_country }
						controller = { is_same_value = event_target:fmerc_target_country }
						fmerc_valid_spaceport_planet = yes
					}
					spaceport = {
						log = "Spaceport: Target spaceport is [this.GetName] in [This.GetStarName]."
						save_event_target_as = fmerc_target
					}
				}
			}
		}
	}
}
