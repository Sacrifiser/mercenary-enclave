###
# This file is part of a project hosted at https://github.com/stellaris-mods
# Copyright (c) 2017 folk@folk.wtf
#
# This program is free software; you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation; either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program; if not, write to the Free Software Foundation,
# Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301  USA
###

fmerc_is_targetted_country_type = {
	NOT = { is_same_value = ROOT }
	has_communications = ROOT
	OR = {
		AND = {
			ROOT = {
				has_country_flag = "fmerc_diplo_empire_standard"
			}
			num_owned_planets > 1
			is_country_type = "default"
		}
		AND = {
			ROOT = {
				has_country_flag = "fmerc_diplo_empire_fallen"
			}
			num_owned_planets > 1
			OR = {
				is_country_type = "fallen_empire"
				is_country_type = "awakened_fallen_empire"
			}
		}
		AND = {
			ROOT = {
				has_country_flag = "fmerc_diplo_empire_swarm"
			}
			is_country_type = "swarm"
		}
		AND = {
			ROOT = {
				has_country_flag = "fmerc_diplo_empire_ed"
			}
			OR = {
				is_country_type = "extradimensional"
				is_country_type = "extradimensional_2"
				is_country_type = "extradimensional_3"
			}
		}
		AND = {
			ROOT = {
				has_country_flag = "fmerc_diplo_empire_ai"
			}
			is_country_type = "ai_empire"
		}
	}
}

fmerc_is_valid_country = {
	NOT = {
		has_country_flag = "fmerc_operations_target"
	}
	OR = {
		AND = {
			ROOT = {
				has_country_flag = "fmerc_diplo_spaceport"
			}
			any_owned_planet = {
				fmerc_valid_spaceport_planet = yes
				controller = { is_same_value = PREVPREV }
			}
			num_owned_planets > 2
		}
		AND = {
			ROOT = {
				has_country_flag = "fmerc_diplo_liberate"
			}
			any_owned_planet = {
				controller = { is_same_value = PREVPREV }
				fmerc_valid_liberation_planet = yes
			}
			num_owned_planets > 2
		}
		AND = {
			ROOT = {
				has_country_flag = "fmerc_diplo_miningraid"
			}
			count_owned_ships = {
				limit = {
					OR = {
						is_ship_size = mining_station
						is_ship_size = research_station
					}
				}
				count > 5
			}
		}
		AND = {
			ROOT = {
				has_country_flag = "fmerc_diplo_fleetraid"
			}
			num_fleets > 3
			any_owned_fleet = {
				is_ship_class = shipclass_military
				fleet_size > 8
			}
		}
	}
}
